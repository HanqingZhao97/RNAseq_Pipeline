
CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.
If your shell is Bash or a Bourne variant, enable conda for the current user with

    $ echo ". /home/kkchau/miniconda3/etc/profile.d/conda.sh" >> ~/.bashrc

or, for all users, enable conda with

    $ sudo ln -s /home/kkchau/miniconda3/etc/profile.d/conda.sh /etc/profile.d/conda.sh

The options above will permanently enable the 'conda' command, but they do NOT
put conda's base (root) environment on PATH.  To do so, run

    $ conda activate

in your terminal, or to put the base environment on PATH permanently, run

    $ echo "conda activate" >> ~/.bashrc

Previous to conda 4.4, the recommended way to activate conda was to modify PATH in
your ~/.bashrc file.  You should manually remove the line that looks like

    export PATH="/home/kkchau/miniconda3/bin:$PATH"

^^^ The above line should NO LONGER be in your ~/.bashrc file! ^^^


Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	star_refIndex
	1

[Tue Apr 16 16:52:06 2019]
rule star_refIndex:
    input: ../../references/GRCh37.p13.genome.fa, ../../references/gencode.v19.annotation.gtf, ../../references/STAR_INDEX/
    output: ../../references/STAR_INDEX/STAR_INDEX_Genome, ../../references/STAR_INDEX/STAR_INDEX_SA, ../../references/STAR_INDEX/STAR_INDEX_SAindex
    jobid: 0

Apr 16 16:52:06 ..... started STAR run
Apr 16 16:52:06 ... starting to generate Genome files
Apr 16 16:53:32 ... starting to sort Suffix Array. This may take a long time...
Apr 16 16:53:54 ... sorting Suffix Array chunks and saving them to disk...
Apr 16 20:54:08 ... loading chunks from disk, packing SA...
Apr 16 20:59:09 ... finished generating suffix array
Apr 16 20:59:09 ... generating Suffix Array index
Apr 16 21:02:24 ... completed Suffix Array index
Apr 16 21:02:24 ..... processing annotations GTF
Apr 16 21:02:44 ..... inserting junctions into the genome indices
Apr 16 21:11:16 ... writing Genome to disk ...
Apr 16 21:11:20 ... writing Suffix Array to disk ...
Apr 16 21:12:34 ... writing SAindex to disk
Apr 16 21:12:36 ..... finished successfully
Waiting at most 5 seconds for missing files.
MissingOutputException in line 31 of /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/Snakefile:
Missing files after 5 seconds:
../../references/STAR_INDEX/STAR_INDEX_Genome
../../references/STAR_INDEX/STAR_INDEX_SA
../../references/STAR_INDEX/STAR_INDEX_SAindex
This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait.
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/.snakemake/log/2019-04-16T165206.029138.snakemake.log
slurmstepd: Exceeded step memory limit at some point.
