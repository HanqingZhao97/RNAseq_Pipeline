Building DAG of jobs...
Executing subworkflow index.
Building DAG of jobs...
Nothing to be done.
Subworkflow input_QC: Nothing to be done.
Executing main workflow.
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	run_star
	1

[Thu May  9 11:41:36 2019]
rule run_star:
    input: /home/kkchau/projects/RNAseq_Pipeline/references/STAR_INDEX/Genome, /home/kkchau/projects/RNAseq_Pipeline/references/STAR_INDEX/SA, /home/kkchau/projects/RNAseq_Pipeline/references/STAR_INDEX/SAindex, /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/data/test_reads_R1.trimmed.fastq, /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/data/test_reads_R2.trimmed.fastq, /home/kkchau/projects/RNAseq_Pipeline/references/STAR_INDEX
    output: ../../data/STAR_ALIGN/test_reads.STARAligned.toTranscriptome.out_sorted.bam, ../../data/STAR_ALIGN/test_reads.STARAligned.sortedByCoord.out.bam
    jobid: 0

May 09 11:41:36 ..... started STAR run
May 09 11:41:36 ..... loading genome
/bin/bash: line 1: 16563 Killed                  STAR --genomeDir /home/kkchau/projects/RNAseq_Pipeline/references/STAR_INDEX --runThreadN 12 --readFilesIn /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/data/test_reads_R1.trimmed.fastq /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/data/test_reads_R2.trimmed.fastq --outFilterType BySJout --outFilterMultimapNmax 20 --alignSJoverhangMin 8 --alignSJDBoverhangMin 1 --outFilterMismatchNmax 999 --alignIntronMin 20 --alignIntronMax 1000000 --alignMatesGapMax 1000000 --outSAMunmapped Within --outSAMattributes NH HI AS NM MD --outFilterMismatchNoverReadLmax 0.04 --sjdbScore 1 --outSAMtype BAM SortedByCoordinate --quantMode TranscriptomeSAM --outFileNamePrefix ../../data/STAR_ALIGN/test_reads.STAR
[Thu May  9 11:44:53 2019]
Error in rule run_star:
    jobid: 0
    output: ../../data/STAR_ALIGN/test_reads.STARAligned.toTranscriptome.out_sorted.bam, ../../data/STAR_ALIGN/test_reads.STARAligned.sortedByCoord.out.bam

RuleException:
CalledProcessError in line 40 of /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/alignment/Snakefile:
Command 'set -euo pipefail;  STAR --genomeDir /home/kkchau/projects/RNAseq_Pipeline/references/STAR_INDEX --runThreadN 12 --readFilesIn /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/data/test_reads_R1.trimmed.fastq /oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/index/data/test_reads_R2.trimmed.fastq --outFilterType BySJout --outFilterMultimapNmax 20 --alignSJoverhangMin 8 --alignSJDBoverhangMin 1 --outFilterMismatchNmax 999 --alignIntronMin 20 --alignIntronMax 1000000 --alignMatesGapMax 1000000 --outSAMunmapped Within --outSAMattributes NH HI AS NM MD --outFilterMismatchNoverReadLmax 0.04 --sjdbScore 1 --outSAMtype BAM SortedByCoordinate --quantMode TranscriptomeSAM --outFileNamePrefix ../../data/STAR_ALIGN/test_reads.STAR' returned non-zero exit status 137.
  File "/oasis/scratch/comet/kkchau/temp_project/RNAseq_Pipeline/workflows/alignment/Snakefile", line 40, in __rule_run_star
  File "/home/kkchau/miniconda3/envs/rnaseq/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Removing output files of failed job run_star since they might be corrupted:
../../data/STAR_ALIGN/test_reads.STARAligned.sortedByCoord.out.bam
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
slurmstepd: Exceeded step memory limit at some point.
